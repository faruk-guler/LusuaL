# Apt-cacher-ng Kurulumu:



## dark-side VM hazırlama: [iptables]

# Öncelikle SSH portuna izin ver. (opsiyonel)
sudo iptables -A OUTPUT -p tcp --sport 22 -j ACCEPT (giden)
sudo iptables -A INPUT -p tcp --dport 22 -j ACCEPT (gelen)

# Giden trafiği engelle (internet)
sudo iptables -P OUTPUT DROP

# Gelen trafiği engelle (internet)
sudo iptables -P INPUT DROP

# Ama yerel ağ (örneğin 192.168.1.0/24) içi trafiğe izin ver
sudo iptables -A OUTPUT -d 192.168.1.0/24 -j ACCEPT
sudo iptables -A INPUT -s 192.168.1.0/24 -j ACCEPT

# Opsiyonel: Sadece DNS trafiğine izin ver (UDP 53)
# sudo iptables -A OUTPUT -p udp --dport 53 -j ACCEPT

# Özel IP'ye izin:
sudo iptables -A OUTPUT -d 192.168.1.10 -j ACCEPT

# Loopback'e izin ver:
iptables -A INPUT -i lo -j ACCEPT
iptables -A OUTPUT -o lo -j ACCEPT

# Kuralları kalıcı yap-restore et-sil:
iptables-save > /etc/iptables.rules
iptables-restore < /etc/iptables.rules
sudo rm /etc/iptables.rules

# Tüm kuralları temizle:
# sudo iptables -F
